{% extends "layout.html"%}


{% block content%}

<script>
  $(document).ready(function() {
    $('.dropdowns').select2();
  });


  // console.log($('.clients').val().concat($('.products').val()))
  function sendData() {
    var clients = $('.clients').val()
    var clientList = []
    for (var prop in clients) {
      clientList.push(clients[prop])
    }
      $.ajax({
      url: '/result',
      type: 'POST',
      data: JSON.stringify({
        Clients: clientList,
        Products: ['iForms', 'iConductor']
      }),
      success: function (request) {
      }
    })
  }






</script>

<select class="dropdowns clients" style="width:50%" name="clients[]" multiple="multiple">
  {% for client in clients %}
    <option value="{{ client.client_name }}">{{ client.client_name }}</option>
  {% endfor %}
</select>

<select class="dropdowns products" style="width:50%" name="products[]" multiple="multiple">
  {% for product in products %}
    <option value="{{ { 'Product': product.product_name} }}">{{ product.product_name }}</option>
  {% endfor %}
</select>

<!-- <select class="dropdowns clusters" style="width:50%" name="clusters[]" multiple="multiple">
  {% for cluster in clusters %}
    <option value="{{ { 'Cluster': cluster.cluster_name} }}">{{ cluster.cluster_name }}</option>
  {% endfor %}
</select> -->

<button onClick="sendData()">Submit</button>








<!-- <form action="http://localhost:5000/result" method="POST">
  Client: <br> <input type="text" onclick="ajaxd()" name="Client" list="clients" /> <br>
  Regions: <br> <input type="text" name="Region" list="regions" /> <br>
  Products: <br> <input type="text" name="Product" list="products" /> <br>
  Components: <br> <input type="text" name="Components" list="components" /> <br>
  Date: <br>
    From:      <input type="date" name="From" /> <br>
    Till:      <input type="date" name="Till" /> <br>
  Release: <br> <input type="text" name="Release" list="releases" /> <br>
  Environment: <br> <input type="text" name="Environment" list="environments" /> <br>
  Cluster: <br> <input type="text" name="Cluster" list="clusters" /> <br>
  <input type="submit" onclick="ajaxd()" />
</form> -->

{% endblock %}
